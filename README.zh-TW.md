# Windows Set TTL

> 🌐 此說明文件也有英文版本：
>
> - [English](README.md)

本腳本可協助您在 Windows 系統中，快速設定或重設全域 IPv4 TTL（封包存活時間）值。

## 前置條件

- 需要系統管理員權限

## 使用方式

1. 執行 `WindowsSetTTL.bat` 批次檔。
2. 腳本會顯示您電腦上的 IPv4 網路介面與目前的全域 TTL 設定值。
3. 若 TTL 不是 128，系統會詢問是否要還原為預設值 128。
4. 接著系統會要求您輸入新的 TTL 數值。
5. 請輸入介於 1 到 255 之間的 TTL 數值。

## 適用環境

- Windows 10 或更新版本
- PowerShell 5.0 或更新版本

## 注意事項

- TTL（Time To Live）為封包在網路中傳遞的最大跳數，超過後封包將被路由器丟棄。
- 較低的 TTL 值可限制封包的傳遞距離，有助於提升網路安全性。
- 較高的 TTL 值則有助於連線穩定與跨網段的傳遞。
- TTL 設定會立即生效，但重新啟動系統後可能需要重新設定。
- 在某些情境下（例如使用手機熱點分享網路），調整 TTL 值可能有助於提升相容性，或避免部分網路業者針對分享連線所施加的流量檢查或封包過濾機制。請確保您的使用方式符合相關網路服務的使用條款。

## 下載腳本時常見問題

若您透過 GitHub 的「Raw」按鈕下載腳本，系統可能會將其儲存為 LF（Unix 格式）而非 CRLF（Windows 格式），導致 `.bat` 檔在 Windows 上執行失敗。

### 解決方式

請確保檔案在執行前已轉為 CRLF（Windows）格式：

- 使用 Notepad++ 或 Visual Studio Code 開啟 `.bat` 檔。
- 將換行格式轉為 Windows 格式：
  - **Notepad++：** 編輯 → EOL 轉換 → Windows (CRLF)
  - **VS Code：** 點選右下角的 `LF` → 選擇 `CRLF`
- 完成轉換後儲存檔案即可。

或改用 Git clone 或下載 ZIP 的方式，以避免格式錯誤。
